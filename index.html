<!DOCTYPE html>
<meta charset='utf-8'>
<style>
body {
	margin:0;
	position:fixed;
	top:0;
	right:0;
	bottom:0;
	left:0;
}
svg {
	width:100%;
	height: 100%
}
</style>
<body></body>
<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/4.12.0/d3.min.js
' charset='utf-8'></script>
<script>
const dimensions = {
  width: 800,
  height: 800
}

const colours = {
	light: '#ece2f0',
	mid: '#a6bddb',
	dark: '#1c9099',
	black: 'black'
}

const svg = d3.select('body').append('svg')

const getGeoJSON = url => {
	return new Promise((resolve, reject) => {
		d3.json(url, (err, map) => {
			err ? reject(err) : resolve(map)
		})
	})
}

const features = [
	getGeoJSON('https://raw.githubusercontent.com/rgrannell1/irish-trains/master/data/ireland.json'),
	getGeoJSON('https://raw.githubusercontent.com/rgrannell1/irish-trains/master/data/trains.json')
]

Promise.all(features).then(([map, trains]) => {

	const projection = d3.geoMercator().fitSize([dimensions.width, dimensions.height], map)

	const path = d3.geoPath().projection(projection)
	svg.append('path')
		.attr('d', path(map))
		.style('fill', colours.light)
		.style('stroke', colours.black)

})




</script>